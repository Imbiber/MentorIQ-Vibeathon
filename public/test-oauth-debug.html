<!DOCTYPE html>
<html>
<head>
    <title>OAuth Debug Test</title>
</head>
<body>
    <h1>Google OAuth Debug</h1>
    <button onclick="testOAuth()">Test OAuth URL</button>
    <div id="result" style="margin-top: 20px;"></div>

    <script>
        function testOAuth() {
            const clientId = '542756320480-glsal5u9qait02m8ih42f53di9pb4vlo.apps.googleusercontent.com';
            const redirectUri = 'http://localhost:8080/auth/google/callback';
            const scope = 'https://www.googleapis.com/auth/calendar';
            const state = Math.random().toString(36).substring(2, 15);
            
            const authUrl = `https://accounts.google.com/oauth2/v2/auth?` +
                `client_id=${encodeURIComponent(clientId)}&` +
                `redirect_uri=${encodeURIComponent(redirectUri)}&` +
                `scope=${encodeURIComponent(scope)}&` +
                `response_type=token&` +
                `state=${state}&` +
                `access_type=online&` +
                `prompt=consent`;

            document.getElementById('result').innerHTML = `
                <p><strong>Client ID:</strong> ${clientId}</p>
                <p><strong>Redirect URI:</strong> ${redirectUri}</p>
                <p><strong>Full OAuth URL:</strong></p>
                <p style="word-break: break-all; background: #f0f0f0; padding: 10px;">${authUrl}</p>
                <button onclick="window.open('${authUrl}', '_blank', 'width=500,height=600')">Open OAuth Popup</button>
            `;
        }
    </script>
</body>
</html>